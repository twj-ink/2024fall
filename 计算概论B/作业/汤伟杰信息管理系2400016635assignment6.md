# Assignment #6: Recursion and DP

Updated 2201 GMT+8 Oct 29, 2024

2024 fall, Complied by <mark>æ±¤ä¼Ÿæ°ï¼Œä¿¡æ¯ç®¡ç†ç³»</mark>



**è¯´æ˜ï¼š**

1ï¼‰è¯·æŠŠæ¯ä¸ªé¢˜ç›®è§£é¢˜æ€è·¯ï¼ˆå¯é€‰ï¼‰ï¼Œæºç Python, æˆ–è€…C++ï¼ˆå·²ç»åœ¨Codeforces/Openjudgeä¸ŠACï¼‰ï¼Œæˆªå›¾ï¼ˆåŒ…å«Acceptedï¼‰ï¼Œå¡«å†™åˆ°ä¸‹é¢ä½œä¸šæ¨¡ç‰ˆä¸­ï¼ˆæ¨èä½¿ç”¨ typora https://typoraio.cn ï¼Œæˆ–è€…ç”¨wordï¼‰ã€‚AC æˆ–è€…æ²¡æœ‰ACï¼Œéƒ½è¯·æ ‡ä¸Šæ¯ä¸ªé¢˜ç›®å¤§è‡´èŠ±è´¹æ—¶é—´ã€‚

3ï¼‰æäº¤æ—¶å€™å…ˆæäº¤pdfæ–‡ä»¶ï¼Œå†æŠŠmdæˆ–è€…docæ–‡ä»¶ä¸Šä¼ åˆ°å³ä¾§â€œä½œä¸šè¯„è®ºâ€ã€‚Canvaséœ€è¦æœ‰åŒå­¦æ¸…æ™°å¤´åƒã€æäº¤æ–‡ä»¶æœ‰pdfã€"ä½œä¸šè¯„è®º"åŒºæœ‰ä¸Šä¼ çš„mdæˆ–è€…docé™„ä»¶ã€‚

4ï¼‰å¦‚æœä¸èƒ½åœ¨æˆªæ­¢å‰æäº¤ä½œä¸šï¼Œè¯·å†™æ˜åŸå› ã€‚



## 1. é¢˜ç›®

### sy119: æ±‰è¯ºå¡”

recursion, https://sunnywhy.com/sfbj/4/3/119  

æ€è·¯ï¼š

â€‹	æ€è·¯å¦‚ä»£ç ä¸­çš„æ³¨é‡Šã€‚ç¬¬ä¸€æ¬¡çœ‹è¿™ä¸ªé¢˜æ˜¯åœ¨ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹é‡Œé¢ï¼Œåªçœ‹ä»£ç ç¡®å®å¾ˆç»•è€Œä¸”çœ‹ä¸æ‡‚ï¼›ä¹‹åæŸ¥æ‰¾å¤šæ–¹è§£é‡Šï¼Œå‘ç°æœ€å¥½çš„ç†è§£æ–¹æ³•å°±æ˜¯ï¼šå®šä¹‰çš„å‡½æ•°åªéœ€è¦åœ¨å¿ƒé‡Œæ˜ç¡®è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Œè€Œä¸éœ€è¦è€ƒè™‘å…·ä½“å¦‚ä½•å®ç°ï¼Œç„¶åä¸æ–­è°ƒç”¨è¿™ä¸ªç”¨é€”çš„å‡½æ•°ï¼Œæœ€ç»ˆç»“æœä¼šè‡ªåŠ¨é€’å½’å‡ºæ¥ã€‚

â€‹	è¿™é“é¢˜ç”±äºæŸ±å­çš„åç§°ç»™å®šäº†ï¼Œä¸ºäº†ä¿æŒè¿™ç±»é¢˜ä»£ç çš„ä¸€è‡´æ€§ï¼Œå°±æŠŠA,B,Cçš„åç§°ç”¨é»˜è®¤å‚æ•°æ ‡è®°ï¼Œåé¢ç›´æ¥ç”¨formatã€‚

ä»£ç ï¼š

```python
#é¢˜ç›®ç¡®å®šçš„æŸ±çš„åç§°ï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œåç»­è°ƒç”¨çš„æ—¶å€™å°±åªéœ€è¦æŠŠnä¸€ä¸ªå‚æ•°ä¼ å…¥å³å¯
#é»˜è®¤å‚æ•°å¿…é¡»æ”¾åœ¨éé»˜è®¤çš„åæ–¹ï¼ï¼
def move(n,a='A',b='B',c='C'):
    #base caseæ˜¯n==0
    if n>=1:
        #å…ˆæŠŠn-1ä¸ªç›˜å­   ä»aç»è¿‡cæ”¾åˆ°bä¸Š
        move(n-1,f'{a}',f'{c}',f'{b}')
        #ç„¶åæŠŠaçš„å‰©ä½™çš„ä¸€ä¸ªç›˜å­(ç¬¬nä¸ªç›˜å­)æ”¾åˆ°cä¸Š
        move_one(a,c)
        #æœ€åæŠŠn-1ä¸ªç›˜å­  ä»bç»è¿‡aæ”¾åˆ°cä¸Š
        move(n-1,f'{b}',f'{a}',f'{c}')

def move_one(a,c):
    print(f'{a}->{c}')

n=int(input())
print(2**n-1)
move(n)
```



ä»£ç è¿è¡Œæˆªå›¾ <mark>ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰</mark>

![image-20241030101509960](C:/Users/ink/AppData/Roaming/Typora/typora-user-images/image-20241030101509960.png)



### sy132: å…¨æ’åˆ—I

recursion, https://sunnywhy.com/sfbj/4/3/132

æ€è·¯ï¼š

â€‹	ï¼ˆç¬¬ä¸€æ¬¡çœ‹è¿™é¢˜ï¼šï¼Ÿï¼Ÿï¼Ÿè¿™é¢˜å’Œé€’å½’æœ‰å•¥å…³ç³»é˜¿ï¼Ÿï¼Ÿï¼Ÿï¼‰å…ˆçœ‹äº†åŒå­¦ä»£ç ï¼Œç”¨pythontutoræ²¡çœ‹æ‡‚ï¼Œè‡ªå·±æ‰‹åŠ¨æ¨¡æ‹Ÿå‡ºé”™ï¼Œé—®gptä¹Ÿçœ‹ä¸æ‡‚ï¼Œéš”äº†ä¸€å¤œæ‰¾çŸ¥ä¹ï¼Œå‘ç°äº†ä¸€ä¸ªè‰¯å¿ƒæ–‡ç« [LeetCode 31ï¼šé€’å½’ã€å›æº¯ã€å…«çš‡åã€å…¨æ’åˆ—ä¸€ç¯‡æ–‡ç« å…¨è®²æ¸…æ¥š - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/110062143?utm_campaign=shareopn&utm_medium=social&utm_psn=1835270917380526080&utm_source=wechat_session)ï¼Œä¹‹åç»“åˆgptæä¾›çš„ä»£ç æ‰ç®—ç¨å¾®æœ‰ç‚¹ç†è§£ã€‚è¿™é¢˜æˆ‘è‡ªå·±æƒ³åˆ°çš„æ˜¯ç”¨permutationså‡½æ•°æˆ–è€…ç”¨ä»¥å‰åšè¿‡çš„æ’åˆ—çš„æ–¹æ³•å®ç°ï¼Œé€’å½’æ–¹æ³•è‡ªå·±çœŸçš„çœŸçš„æƒ³ä¸å‡ºæ¥ã€‚

ä»£ç ï¼š

```python
##ä½¿ç”¨permutations                    ##
##from itertools import permutations ##
##n=int(input())                     ##
##a=[i for i in range(1,n+1)]        ##
##perms=sorted(permutations(a))      ##
##for i in perms:                    ##
##    print(*i)                      ##

#ä½¿ç”¨next_permutationçš„äº¤æ¢å…ƒç´ æ–¹æ³•
from math import factorial

n=int(input())
a=[i for i in range(1,n+1)]
def next_perm(a,n):
    k=-1
    for i in range(n-1,0,-1):
        if a[i-1]<a[i]:
            k=i-1
            break
    if k==-1:
        return a.reverse()
    l=-1
    for i in range(n-1,0,-1):
        if a[i]>a[k]:
            l=i
            break
    a[l],a[k]=a[k],a[l]
    a[k+1:]=reversed(a[k+1:])
    return a

print(*a)
for i in range(factorial(n)-1):
    print(*next_perm(a,n))
```

```python
#gptæä¾›çš„é€’å½’æ¡†æ¶å’Œå¤§ä½¬ä»£ç çš„é‡æ–°èåˆ
n=int(input())
chosen=[False]*(n+1) #n+1å…¶ä¸­ç¬¬ä¸€ä¸ªä½ç½®ä¸ä½¿ç”¨ï¼Œå˜æˆä»¥1ä¸ºbaseçš„ç´¢å¼•
ans=[0]*(n+1)
def dfs(k):                  #ä»k=1å¼€å§‹ï¼Œå¯¹ç¬¬ä¸€å±‚ï¼ˆç¬¬ä¸€ä¸ªä½ç½®ï¼‰å¼€å§‹é€’å½’
    if k>n:                  #è¿™ä¸¤è¡Œæ˜¯é€€å‡ºæ¡ä»¶
        print(' '.join(map(str,ans[1:])))
    for i in range(1,n+1):   #æ¯ä¸ªä½ç½®éƒ½éå†æ‰€æœ‰å¯èƒ½é€‰æ‹© for choice in all_choices
        if chosen[i]:        #è¿™ä¸¤è¡Œæ˜¯é˜²æ­¢ä½¿ç”¨åŒä¸€å…ƒç´ 
            continue
        chosen[i]=True       #è¿™ä¸¤è¡Œæ˜¯åœ¨record(choice)
        ans[k]=i
        dfs(k+1)             #è¿™ä¸€è¡Œæ˜¯åœ¨é€’å½’ï¼Œå¼€å§‹ç¬¬äºŒå±‚ï¼ˆç¬¬äºŒä¸ªä½ç½®ï¼‰çš„éå†all_choices
        chosen[i]=False      #è¿™ä¸€è¡Œæ˜¯åœ¨roll_back(chioce)ï¼Œæ¡ä»¶æ˜¯ä¸Šé¢é€’å½’çš„dfsé‡åˆ°äº†k>nè€Œç»“æŸ
                             #ä»è€Œå›æº¯åˆ°ä¸Šä¸€å±‚çš„kï¼Œå†æ¥ç€å¯¹ä¸Šä¸€å±‚æ²¡éå†å®Œçš„iç»§ç»­éå†
dfs(1)
#è¿™é‡Œrollbackçš„é€»è¾‘æ˜¯å› ä¸ºå½“å‰ä½ç½®é€‰å®šçš„iå·²ç»è¿›è¡Œäº†å¯¹åé¢ä½ç½®æ‰€æœ‰å¯èƒ½çš„æ•°å­—æ’åˆ—ï¼Œå› æ­¤å›æº¯æ—¶å…ˆæŠŠè¿™ä¸ªé€‰å®šçš„iç»™æ ‡æˆFalseæ˜¾ç¤ºå¯ç”¨ï¼Œå†éå†åˆ°ä¸‹ä¸€ä¸ªiæ—¶åœ¨è¿™ä¸ªä½ç½®çš„ç”¨è¿‡çš„æ•°å­—è¿˜å¯ä»¥åœ¨å…¶ä»–ä½ç½®ä½¿ç”¨
```

ä»£ç è¿è¡Œæˆªå›¾ ==ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰==

![image-20241031115004586](C:/Users/ink/AppData/Roaming/Typora/typora-user-images/image-20241031115004586.png)



### 02945: æ‹¦æˆªå¯¼å¼¹ 

dp, http://cs101.openjudge.cn/2024fallroutine/02945

æ€è·¯ï¼š

â€‹	å‚è€ƒäº†æœ€é•¿ä¸Šå‡å­åºåˆ—çš„æ€è·¯ï¼Œè¿™ä¸ªå°±æ˜¯æœ€é•¿ä¸‹é™å­åºåˆ—äº†ï¼Œå…³é”®æ˜¯dp[i]=max(dp[i],dp[j]+1)ã€‚å…¶ä¸­jæ˜¯å¯¹=ä»0åˆ°i-1çš„éå†ã€‚åˆå§‹åŒ–æ˜¯dpçš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯1ï¼Œè€Œä¸æ˜¯0ã€‚

ä»£ç ï¼š

```python
k=int(input())
a=list(map(int,input().split()))
dp=[1]*k
for i in range(1,len(a)):
    for j in range(0,i):
        if a[j]>=a[i]:
            dp[i]=max(dp[i],dp[j]+1)

print(max(dp))
```



ä»£ç è¿è¡Œæˆªå›¾ <mark>ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰</mark>

![image-20241030142517870](C:/Users/ink/AppData/Roaming/Typora/typora-user-images/image-20241030142517870.png)



### 23421: å°å·èƒŒåŒ… 

dp, http://cs101.openjudge.cn/practice/23421

æ€è·¯ï¼š

â€‹	å‚è€ƒäº†ç®—æ³•å›¾è§£çš„æ€è·¯ï¼Œå…ˆè®¾ç½®ä¸€ä¸ªn*bçš„dpè¡¨æ ¼ï¼Œç„¶åä½¿ç”¨ä¹¦ä¸Šçš„å…¬å¼è®¡ç®—ã€‚ä¸è¿‡éº»çƒ¦çš„æ˜¯ç¬¬ä¸€è¡Œçš„åˆå§‹åŒ–ï¼Œè¦å•ç‹¬è®¨è®ºi==0æ—¶ï¼ŒæŠŠç¬¬ä¸€è¡Œç‰©å“å¡«è¿›å»ï¼Œç„¶åæ‰èƒ½è¿›è¡Œä¸‹é¢çš„è®¡ç®—ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å‰©ä½™é‡é‡çš„æ­£è´Ÿåˆ¤æ–­ï¼Œæˆ‘é‡‡ç”¨äº†

```python
dp[i][j]=max(dp[i-1][j], goods[i][0]+(dp[i-1][j-goods[i][1]] if j-goods[i][1]>=0 else 0))
```

çš„æ–¹å¼æ¥ç›´æ¥è®¨è®ºï¼Œè€Œæ²¡æœ‰é¢å¤–åˆ†ç±»ã€‚ç„¶åæœ€åçš„è¾“å‡ºçš„æœ€åä¸€ä¸ªæ ¼å­ã€‚

ä»£ç ï¼š

```python
n,b=map(int,input().split())
v=list(map(int,input().split()))
w=list(map(int,input().split()))
goods=[]
for i in range(n):
    goods.append((v[i],w[i]))
dp=[[0]*b for _ in range(n)]
for i in range(n):
    for j in range(b):
        if i==0 and goods[0][1]<=j+1:             #åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
            dp[0][j]=max(dp[0][j],goods[0][0])
        else:
            if goods[i][1]<=j+1:
                dp[i][j]=max(dp[i-1][j],goods[i][0]+ \
                             (dp[i-1][j-goods[i][1]] if j-goods[i][1]>=0 else 0))
            else:
                dp[i][j]=dp[i-1][j]
#print(dp)
print(dp[-1][-1])
```



ä»£ç è¿è¡Œæˆªå›¾ <mark>ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰</mark>

![image-20241030133255374](C:/Users/ink/AppData/Roaming/Typora/typora-user-images/image-20241030133255374.png)



### 02754: å…«çš‡å

dfs and similar, http://cs101.openjudge.cn/practice/02754

æ€è·¯ï¼š

â€‹	ç”±äºæ¯è¡Œåªèƒ½æ”¾ä¸€ä¸ªï¼Œé‚£å°±å¯ä»¥çœ‹æˆæ˜¯å…¨æ’åˆ—çš„äºŒç»´å±•å¼€å½¢å¼ï¼Œä½†æ˜¯è¾“å‡ºä¸Šå®é™…è¿˜æ˜¯å…¨æ’åˆ—ã€‚è¿™é“é¢˜ä¸å…¨æ’åˆ—ä¸åŒçš„åœ°æ–¹åœ¨äºï¼šâ‘ åœ¨å‡½æ•°ä¸­ä¸èƒ½ç›´æ¥printäº†è¦å…ˆåœ¨å‡½æ•°å¤–é¢è®¾ç½®ä¸€ä¸ªresultç”¨äºå‚¨å­˜ç»“æœï¼Œç„¶ååœ¨å‡½æ•°å†…éƒ¨å£°æ˜å…¶ä¸ºå…¨å±€å˜é‡ã€‚â‘¡åœ¨record(choice)é˜¶æ®µï¼Œä¸ä»…ä»…æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°å­—æœ‰æ²¡æœ‰ç”¨è¿‡äº†ï¼Œè¿˜è¦åˆ¤æ–­å…¶æ˜¯å¦ä¸å…¶ä»–æ•°å­—åœ¨å¯¹è§’çº¿ä¸Šï¼Œå› æ­¤æ­¤å¤„ä»ç„¶éœ€è¦ä¸€ä¸ªforå¾ªç¯æ¥éå†å·²ç»ç¡®å®šä½ç½®çš„æ•°å­—ã€‚

ä»£ç ï¼š

```python
chosen=[False]*9
ans=[0]*9
result=[]
def dfs(k):
    global result
    if k>8:                            #é€€å‡ºæ¡ä»¶
        result.append(ans[1:])
    for i in range(1,9):               #æ¯ä¸€å±‚çš„å¯èƒ½æ•°å­—éå†
        if chosen[i]:                  #è¿™ä¸¤è¡Œçš„åˆ¤å®šæ˜¯é˜²æ­¢æ•°å­—é‡å¤
            continue
        f=False                        #è¿™ä¸ƒè¡Œçš„åˆ¤å®šæ˜¯é˜²æ­¢çš‡ååœ¨å¯¹è§’çº¿
        for j in range(1,k):
            if abs(ans[j]-i)==abs(j-k):
                f=True
                break
        if f:
            continue
        chosen[i]=True                 #è¿™ä¸¤è¡Œæ˜¯åœ¨record(choice)
        ans[k]=i
        dfs(k+1)                       #è¿™ä¸€è¡Œæ˜¯åœ¨é€’å½’ï¼Œé€’å½’å‡ºè¯¥å±‚å‘ä¸‹çš„æ‰€æœ‰å¯èƒ½ç»“æœ
        chosen[i]=False                #è¿™ä¸€è¡Œæ˜¯åœ¨ï¼ˆä¸‹ä¸€å±‚çš„é€’å½’ç»“æŸåï¼‰å›æº¯ï¼Œæ ‡è®°ä¸ºæœªä½¿ç”¨
dfs(1)                                 #è°ƒç”¨å‡½æ•°ï¼Œè·å¾—å…¨å±€éå†resultï¼Œä¹Ÿå°±è·å¾—äº†92ä¸ªæ’åˆ—
#print(result)
n=int(input())
for _ in range(n):
    t=int(input())
    print(''.join(map(str,result[t-1])))
```



ä»£ç è¿è¡Œæˆªå›¾ <mark>ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰</mark>

![image-20241031135220823](C:/Users/ink/AppData/Roaming/Typora/typora-user-images/image-20241031135220823.png)



### 189A. Cut Ribbon 

brute force, dp 1300 https://codeforces.com/problemset/problem/189/A

æ€è·¯ï¼š

â€‹	çœ‹ç­”æ¡ˆæ‰çŸ¥é“çš„æ€è·¯ï¼Œæ˜¯å®Œå…¨èƒŒåŒ…é—®é¢˜ã€‚çœ‹äº†é¢˜è§£å‘ç°ç”¨dp[i]=max(dp[i-a],max(dp[i-b],dp[i-c]))+1æ›´å¥½ç†è§£ï¼Œå› ä¸ºæ¯æ¬¡åˆ‡å‰²æ˜¯å¢åŠ ä¸€æ®µè€Œä¸æ˜¯ä¸¤æ®µã€‚

ä»£ç ï¼š

```python
inf=-float('inf')
#æ¯æ®µçš„ä»·å€¼æ˜¯1ï¼Œä»£ä»·å æ®çš„ç©ºé—´æ˜¯æœ¬èº«a,b,c,æ€»ç©ºé—´æ˜¯n
a=list(map(int,input().split()))
n=a[0]
dp=[0]+[inf]*n
#å¯¹æ¯ä¸ªç‰©å“æ€»éå†ï¼Œå¯¹æ¯ä¸€ä¸ªèƒ½å¤Ÿè£…ä¸‹çš„å®¹é‡åˆ—éå†
for i in range(1,4):
    for j in range(a[i],n+1):
        dp[j]=max(dp[j],1+dp[j-a[i]])
print(dp[-1])
```



ä»£ç è¿è¡Œæˆªå›¾ <mark>ï¼ˆè‡³å°‘åŒ…å«æœ‰"Accepted"ï¼‰</mark>

![image-20241031221355920](C:/Users/ink/AppData/Roaming/Typora/typora-user-images/image-20241031221355920.png)



## 2. å­¦ä¹ æ€»ç»“å’Œæ”¶è·

<mark>å¦‚æœä½œä¸šé¢˜ç›®ç®€å•ï¼Œæœ‰å¦é¢å¤–ç»ƒä¹ é¢˜ç›®ï¼Œæ¯”å¦‚ï¼šOJâ€œè®¡æ¦‚2024fallæ¯æ—¥é€‰åšâ€ã€CFã€LeetCodeã€æ´›è°·ç­‰ç½‘ç«™é¢˜ç›®ã€‚</mark>

â€‹	æœ¬æ¬¡ä½œä¸šå…¨éƒ¨éƒ½æ˜¯è‡ªå·±çœ‹äº†ç­”æ¡ˆï¼ˆå¹¶ç†è§£äº†å¾ˆä¹…ç­”æ¡ˆğŸ˜­ï¼‰å†™å‡ºæ¥çš„ï¼Œæ¯æ—¥é€‰åšçš„éš¾åº¦ä¹Ÿå¾ˆå¤§æœ‰äº›é¢˜ä¸€ç›´å¡ç€åšä¸å‡ºæ¥ã€‚

â€‹	dpï¼š

â€‹	dpçš„é¢˜ç›®æ„Ÿè§‰æœ‰ä¸‰ä¸ªéš¾ç‚¹ï¼šæ‰¾ä»å°é—®é¢˜åˆ°å¤§é—®é¢˜çš„é€’æ¨ç­–ç•¥ã€æ‰¾é€’æ¨å¼ã€dpæ•°ç»„åˆå§‹åŒ–çš„çŠ¶æ€ã€‚è€Œæˆ‘ç›®å‰éƒ½æ²¡æœ‰å¥½çš„åŠæ³•ï¼Œæ„Ÿè§‰å¾ˆéš¾ã€‚ä½œä¸šé¢˜åœ¨ç¬¬ä¸€æ¬¡çœ‹æ—¶ç»™æˆ‘çš„æ„Ÿå—æ˜¯ï¼šè¿™é¢˜è·Ÿdpæœ‰å•¥å…³ç³»ï¼Ÿï¼Ÿ/è¿™é¢˜è·Ÿé€’å½’æœ‰å•¥å…³ç³»ï¼Ÿï¼Ÿç¾¤é‡Œé¢å¤§ä½¬æ˜¯æ€ä¹ˆç”¨æ—¶è¿™ä¹ˆçŸ­åšå®Œçš„é˜¿ï¼Ÿï¼Ÿ

â€‹	ä½œä¸šé‡Œé¢çš„èƒŒåŒ…é—®é¢˜æ¶‰åŠäº†01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…ï¼ŒäºŒè€…æœ‰æå…¶ç›¸ä¼¼çš„å…¬å¼ï¼š

â€‹	å‡è®¾æœ‰nä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“çš„ä»·å€¼å’Œå ç”¨ç©ºé—´åˆ†åˆ«æ˜¯ciã€aiï¼ŒèƒŒåŒ…æ€»å®¹é‡æ˜¯Aï¼Œåˆ™ä¸¤è€…å‡é‡‡ç”¨å¤§å±‚éå†æ¯ä¸ªç‰©å“ï¼Œå°å±‚éå†**æ¯ä¸ªå¯å®¹çº³ç‰©å“çš„å®¹é‡å€¼**ï¼ˆè¿™æ ·ä¾¿çœå»äº†iå’Œjçš„æ¯”è¾ƒï¼Œä¿è¯dpä¸ä¼šè¶Šç•Œï¼‰ã€‚

01èƒŒåŒ…ï¼šåˆå§‹åŒ–å…¨ä¸º0ï¼›jé‡‡ç”¨é€†å‘éå†

```python
dp=[0]*(n+1)
for i in range(1,n+1):
	for j in range(A,ci-1,-1):
		dp[j]=max(dp[j],ci+dp[j-ai])
print(dp[-1])
```

å®Œå…¨èƒŒåŒ…ï¼šåˆå§‹åŒ–é™¤äº†0ä½ç½®æ˜¯0ï¼Œå…¶ä½™ä½ç½®æ˜¯-infï¼›jé‡‡ç”¨æ­£å‘éå†

```python
dp=[0]+[-float('inf')]*n
for i in range(1,n+1):
	for j in range(ci,A):
		dp[j]=max(dp[j],ci+dp[j-ai])
print(dp[-1])
```

â€‹	é€’å½’ï¼š

â€‹	æ±‰è¯ºå¡”çš„å‡½æ•°åå¤è°ƒç”¨çš„å†…éƒ¨å…·ä½“å®ç°ä»ç„¶æ„Ÿè§‰å¾ˆæ·±å¾ˆç»•ï¼Œç›®å‰åªèƒ½åšåˆ°å…ˆ**æ˜ç¡®å‡½æ•°çš„ä½œç”¨**å¹¶ä¸æ–­è°ƒç”¨ç›´åˆ°è‡ªåŠ¨é€’å½’å‡ºç»“æœã€‚

â€‹	ä»[LeetCode 31ï¼šé€’å½’ã€å›æº¯ã€å…«çš‡åã€å…¨æ’åˆ—ä¸€ç¯‡æ–‡ç« å…¨è®²æ¸…æ¥š - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/110062143?utm_campaign=shareopn&utm_medium=social&utm_psn=1835270917380526080&utm_source=wechat_session)æˆªå–é‡Œé¢çš„ä¸€éƒ¨åˆ†ç²¾åï¼Œå¯¹æˆ‘è¿™ç§åˆå­¦è€…æœ‰å¾ˆå¤§å¸®åŠ©ï¼š

>å¦‚æœæ˜¯åˆå­¦è€…ï¼Œå³ä½¿æ˜¯ç†è§£äº†é€’å½’çš„æ¦‚å¿µæƒ³è¦è‡ªå·±å†™å‡ºä»£ç æ¥ä¹Ÿæ˜¯ä¸€ä»¶ä¸å®¹æ˜“çš„äº‹æƒ…ã€‚å› ä¸ºåœ¨æˆ‘ä»¬çœ‹æ¥è®°å½•æ‰€æœ‰èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œéå†ï¼Œå†å›åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå†ç»§ç»­æœç´¢ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„è¿‡ç¨‹ã€‚
>å¥½åœ¨æˆ‘ä»¬å¹¶ä¸éœ€è¦è‡ªå·±è®°å½•è¿™ä¸ªè¿‡ç¨‹ï¼Œå› ä¸ºè®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºçš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªç§°ä¸ºæ–¹æ³•æ ˆçš„ä¸œè¥¿ï¼Œè®°å½•æˆ‘ä»¬æ‰§è¡Œçš„æ‰€æœ‰å‡½æ•°å’Œæ–¹æ³•çš„çŠ¶æ€ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨Aç¨‹åºä¸­æ‰§è¡Œäº†Bç¨‹åºçš„ä»£ç ï¼Œlike this:

>```python
def A():
  do_something()
  B()
  do_something()

>æˆ‘ä»¬åœ¨Aå½“ä¸­çš„ç¬¬äºŒè¡Œæ‰§è¡Œäº†Bè¿™ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šä¸ºæˆ‘ä»¬è®°å½•ä¸‹æˆ‘ä»¬åœ¨æ‰§è¡ŒBçš„æ—¶å€™çš„ä½ç½®æ˜¯ç¬¬äºŒè¡Œï¼Œå½“Bæ‰§è¡Œç»“æŸï¼Œè¿˜ä¼šå›åˆ°è°ƒç”¨çš„ä½ç½®ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚è€Œé€’å½’å‘¢ï¼Œåˆ™æ˜¯åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œè®©Aæ¥æ‰§è¡Œè‡ªå·±ï¼š

>```python
def A():
  do_something()
  A()
  do_something()

>å’Œåˆšæ‰ä¸€æ ·ï¼Œç³»ç»ŸåŒæ ·ä¼šä¸ºæˆ‘ä»¬è®°å½•æ‰§è¡ŒAçš„ä½ç½®ã€‚Aæ‰§è¡Œäº†Aï¼Œåœ¨æˆ‘ä»¬çœ‹æ¥æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ç³»ç»Ÿä¼šå‚¨å­˜ä¸¤ä»½æ–¹æ³•çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•è®¤ä¸ºåé¢æ‰§è¡Œçš„Aæ˜¯A1ï¼Œé‚£ä¹ˆå½“A1æ‰§è¡Œç»“æŸä¹‹åï¼Œåˆä¼šå›åˆ°Aæ‰§è¡ŒA1çš„ä½ç½®ã€‚è€Œç”¨é€’å½’æ¥å®ç°æœç´¢å‘¢ï¼Œåªæ˜¯åœ¨æ­¤åŸºç¡€ä¸ŠåŠ ä¸Šäº†ä¸€ç‚¹å¾ªç¯è€Œå·²ã€‚

>```python
def dfs():
    for choice in all_choices():
        record(choice)
        dfs()
        rollback(choice)

>è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„æœç´¢çš„ä»£ç æ¡†æ¶äº†ï¼Œæˆ‘ä»¬éå†æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å†³ç­–ï¼Œç„¶åè®°å½•ä¸‹è¿™ä¸ªé€‰æ‹©ï¼Œè¿›è¡Œå¾€ä¸‹é€’å½’ã€‚å½“æˆ‘ä»¬æ‰§è¡Œå®Œå†æ¬¡å›åˆ°è¿™ä¸ªä½ç½®è¿™ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»éå†å®Œäº†è¿™ä¸ªé€‰æ‹©æ‰€æœ‰çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ’¤é”€è¿™ä¸ªé€‰æ‹©å¸¦æ¥çš„ä¸€äº›å½±å“ï¼Œå¥½æ–¹ä¾¿æšä¸¾ä¸‹ä¸€ä¸ªé€‰æ‹©ã€‚

>ä½†æ˜¯è¿™æ ·è¿˜æ²¡ç»“æŸï¼Œè¿˜æœ‰ä¸€ç‚¹å°é—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åªéœ€è¦æ”¾ç½®8ä¸ªçš‡åï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹è¿™ç‚¹åšé™åˆ¶ï¼Œä¸ç„¶å°±ä¼šæ— ç©·æ— å°½é€’å½’ä¸‹å»äº†ã€‚åšé™åˆ¶çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œæœ¬è´¨ä¸Šæ¥è¯´æˆ‘ä»¬æ˜¯è¦é™åˆ¶é€’å½’çš„æ·±åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå˜é‡æ¥è®°å½•é€’å½’çš„æ·±åº¦ï¼Œæ¯æ¬¡å¾€ä¸‹é€’å½’çš„æ—¶å€™å°±åŠ ä¸Š1ï¼Œå¦‚æœé€’å½’æ·±åº¦è¾¾åˆ°äº†æˆ‘ä»¬çš„è¦æ±‚ï¼Œå°±ä¸å†å¾€ä¸‹é€’å½’äº†ã€‚

>åŠ ä¸Šæ·±åº¦åˆ¤æ–­ä¹‹åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ç»å…¸çš„å›æº¯çš„ä»£ç æ¡†æ¶ã€‚å‡ ä¹å¯ä»¥è¯´æ— è®ºä»€ä¹ˆæ ·çš„å›æº¯æœç´¢é—®é¢˜ï¼Œéƒ½è„±ç¦»ä¸äº†è¿™ä¸ªä»£ç æ¡†æ¶ï¼Œåªæ˜¯å…·ä½“æ‰§è¡Œå’Œæ’¤é”€çš„é€»è¾‘æœ‰æ‰€ä¸åŒè€Œå·²ï¼š

>```python
def dfs(depth):
    â‘ if depth >= 8:
        return
    â‘¡for choice in all_choices():
      â‘¢  record(choice)
      â‘£  dfs(depth+1)
      â‘¤  rollback(choice)

ä»¥åŠä¸€ä¸ªæ–¹ä¾¿ç†è§£é€’å½’ä¸å›æº¯çš„å›¾ï¼š

>```text
                                      root
                                       /
                                      1
                                     /
                                    2
                                   /
                                  3
                                 /
                                4
                               /
                              5
                             / \
                            6   7
                           / \
                          7   8
                         /     \
                        8       7

åˆšå¼€å§‹æ¯ä¸€ä¸ªä½ç½®éƒ½æ˜¯å¯ä»¥æ”¾1åˆ°8çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯

â‘¡å¤„forå¾ªç¯çš„ç›®çš„ã€‚ç„¶åè¿›è¡Œ

â‘¢æ¯ä¸€å±‚çš„é€‰å®šæ•°å­—ï¼Œå¹¶

â‘£å‘ä¸‹é€’å½’é€‰å®šä¸‹ä¸€å±‚çš„æ•°å­—ï¼Œç›´åˆ°

â‘ è¾¹ç•Œé€€å‡ºï¼Œåœ¨é€€å‡ºå

â‘¤å›æº¯ï¼Œå›æº¯åä¸‹é¢çš„å±‚å®é™…ä¸Šéƒ½å·²ç»éå†å®Œæˆäº†ã€‚

å…¶ä¸­â‘£çš„é€’å½’æ“ä½œåªéœ€è¦æ— è„‘è°ƒç”¨å‡½æ•°æœ¬èº«ï¼Œâ‘¢å’Œâ‘¤éœ€è¦åŠ¨è„‘ç­‹æ„é€ ä»£ç å®ç°ï¼Œè¿™æ ·çš„æ¨¡æ¿æ„Ÿè§‰æœ‰åŠ©äºç†è§£ï¼Œä½†æ˜¯çœŸæ­£è‡ªå·±å®ç°èµ·æ¥ä»ç„¶æ„Ÿè§‰éå¸¸éå¸¸éš¾ï¼ï¼ï¼



æ€»ç»“ï¼šç›®å‰è‡ªå·±å¤„äºä¸€é“é¢˜çš„æ€è·¯ä¹Ÿæƒ³ä¸å‡ºæ¥çš„çŠ¶æ€ï¼ˆï¼‰ï¼Œåªèƒ½çœ‹åˆ«äººçš„ä»£ç /çœ‹åˆ«äººçš„æ€è·¯æ‰èƒ½å°½é‡åšå‡ºæ¥ï¼Œè¿˜éœ€è¦ç»ƒä¹ å’Œæé«˜æ•æ„Ÿåº¦ã€‚

çœ‹äº†ç¾¤é‡Œè€å¸ˆå‘çš„ä»£ç å’ŒåŒå­¦çš„ä»£ç ï¼Œå‘ç°æœ‰äº›å†™æ³•ç®€ä¾¿ä½†æ˜¯ä»ç„¶æ˜¯é€’å½’å’Œå›æº¯çš„æ€ç»´ï¼Œæœ‰äº›åˆçœ‹ä¸æ‡‚äº†...æ„Ÿè§‰æœˆè€ƒå¯èƒ½ä¼šç›¸å½“å¤±è´¥ğŸ˜­